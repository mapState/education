{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/Administrator/Desktop/edu/pages/activityDetails/activityDetails.vue?49d8","webpack:///C:/Users/Administrator/Desktop/edu/pages/activityDetails/activityDetails.vue?81c1","webpack:///C:/Users/Administrator/Desktop/edu/pages/activityDetails/activityDetails.vue?d47b","uni-app:///pages/activityDetails/activityDetails.vue","webpack:///C:/Users/Administrator/Desktop/edu/pages/activityDetails/activityDetails.vue?97a0","webpack:///C:/Users/Administrator/Desktop/edu/pages/activityDetails/activityDetails.vue?9ab8"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0H;AACAA,UAAU,CAACC,wBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACc;;;AAG5E;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,oPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAymB,CAAgB,moBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiV7nB;AACA;AACA,sBADA;AAEA,sBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,gBADA;AAEA,gBAFA;AAGA,gBAHA;AAIA,iBAJA;AAKA,mBALA;AAMA,sCANA,EAMA;AACA,0JAPA;AAQA,mBARA,EAQA;AACA,kBATA,EASA;AACA,oBAVA;AAWA,aAXA;AAYA,kBAZA;AAaA,kBAbA;AAcA,iBAdA;AAeA,uBAfA;AAgBA,8BAhBA;AAiBA,aAjBA,EAiBA;AACA,qBAlBA;AAmBA,eAnBA,EAmBA;AACA;AACA,iBArBA;AAsBA,kBAtBA,EAsBA;AACA,gBAvBA;AAwBA,sBAxBA;;AA0BA,GAhCA;AAiCA;AACA,cADA,sBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA,EAjCA;;AAyCA,QAzCA,kBAyCA,MAzCA,EAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBARA,CAQA;AACA,GAlDA;AAmDA,mBAnDA,6BAmDA,GAnDA,EAmDA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,gCAFA;;AAIA,GA3DA;AA4DA;AACA,YADA,sBACA;AACA;AACA,mDADA;AAEA;AACA;AACA;AACA,2BADA;;AAGA;AACA,SARA;;AAUA,KAZA;AAaA,aAbA,uBAaA;AACA;AACA;AACA,KAhBA;AAiBA;AACA,aAlBA,qBAkBA,MAlBA,EAkBA;AACA;AACA,eADA,EACA;AACA,sBAFA;AAGA,mCAHA;AAIA,iDAJA;AAKA,UALA,CAKA;AACA;AACA,OAPA;AAQA,KA3BA;AA4BA,aA5BA,uBA4BA;AACA;AACA;AACA,wCADA,EADA;;AAIA,UAJA,CAIA;AACA;AACA,OANA;AAOA,KApCA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YA/CA,sBA+CA;AACA;AACA;AACA,iBADA,CACA;AADA,SADA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAvBA;AAwBA,KAxEA;AAyEA,eAzEA,yBAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnFA;AAoFA;AACA,QArFA,gBAqFA,KArFA,EAqFA,KArFA,EAqFA;AACA,gCADA,CACA;AACA;AACA;AACA;AACA,KA1FA;AA2FA,UA3FA,oBA2FA;AACA;AACA,2EADA;;AAGA,KA/FA;AAgGA,YAhGA,sBAgGA;AACA;AACA,wDADA;;AAGA,KApGA;AAqGA,UArGA,kBAqGA,GArGA,EAqGA;AACA;AACA;AACA,KAxGA;AAyGA,gBAzGA,wBAyGA,CAzGA,EAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,+BAHA;;AAKA,SARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA,OApBA,EAoBA,IApBA;AAqBA,KAnIA;AAoIA,UApIA,oBAoIA;AACA;AACA,gBADA;;AAGA,KAxIA;AAyIA,gBAzIA,0BAyIA;AACA;AACA,KA3IA;AA4IA,aA5IA,uBA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDADA;;AAGA,SALA,MAKA,EAEA;AACA,OAVA;AAWA,KAzJA;AA0JA,WA1JA,qBA0JA;AACA;AACA,qCADA;;AAGA,KA9JA;AA+JA;AACA,cAhKA,wBAgKA;AACA;AACA,KAlKA;AAmKA,aAnKA,uBAmKA;AACA;AACA;AACA,yBADA;AAEA,kBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA;AACA;AACA;AACA,oCADA;AAEA;AACA;AACA,2CAFA,CAEA;AACA,4CAHA,CAGA;AACA,wCAJA,CAIA;AACA,wCALA,CAKA;AACA,sCANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,0BAFA,EAEA;AACA,0BAHA,EAGA;AACA,yCAJA,EAIA;AACA,2CALA,EAKA;AACA,6CANA,EAMA;AACA,+CAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAdA;AAeA;AACA;AACA;AACA,uBAlBA;;AAoBA,mBArBA,EAqBA,GArBA;AAsBA,iBApCA;;;AAuCA,aA3CA;;AA6CA,SA7EA;;AA+EA,KA7PA;AA8PA,0BA9PA,oCA8PA;AACA;AACA,8BAFA,CAEA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA;AACA,6BADA;AAEA,0BAFA;AAGA,4BAHA;AAIA,wBAJA;;AAMA,WAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA,mBACA,WADA,EACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eARA;;AAUA;AACA,WA5BA;;AA8BA;AACA,KAjSA,EA5DA,E;;;;;;;;;;;;;ACjVA;AAAA;AAAA;AAAA;AAA2mC,CAAgB,qlCAAG,EAAC,C;;;;;;;;;;;ACA/nC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/activityDetails/activityDetails.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/activityDetails/activityDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./activityDetails.vue?vue&type=template&id=7a04ed6e&\"\nvar renderjs\nimport script from \"./activityDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./activityDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activityDetails.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/activityDetails/activityDetails.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./activityDetails.vue?vue&type=template&id=7a04ed6e&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"changeTime\")(_vm.detailData.startDate)\n\n  var f1 = _vm._f(\"changeTime\")(_vm.detailData.endDate)\n\n  var f2 = _vm._f(\"changeTime\")(_vm.detailData.signStartDate)\n\n  var f3 = _vm._f(\"changeTime\")(_vm.detailData.signEndDate)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = _vm.$refs.sharePop.open\n\n    _vm.e1 = function($event) {\n      return _vm.$refs.showMyGroup.open()\n    }\n\n    _vm.e2 = function($event) {\n      _vm.showAd = false\n    }\n\n    _vm.e3 = _vm.$refs.popup1.close\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        f2: f2,\n        f3: f3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./activityDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./activityDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<view class=\"nav\" :style=\"{top:top+'px'}\" @click=\"goBack\">\r\n\t\t\t<image src=\"../../static/icon/bk.png\" mode=\"aspectFill\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"header \" :style=\"{paddingTop:top+'px'}\" v-if=\"scrollTop>=200\">\r\n\t\t\t<text class=\"hd\" :class=\"{'active':currentLetter=='Details'}\" @click=\"toView('Details')\">活动详情</text>\r\n\t\t\t<text class=\"give\" :class=\"{'active':currentLetter=='Give'}\" @click=\"toView('Give')\">赠送福利</text>\r\n\t\t\t<text class=\"\" :class=\"{'active':currentLetter=='Evaluation'}\" @click=\"toView('Evaluation')\">往期评价</text>\r\n\t\t</view>\r\n\t\t<scroll-view class=\"scroll-view\" scroll-y scroll-with-animation=\"true\" :scroll-into-view=\"toIndex\" @scroll=\"scrollHandle\">\r\n\t\t\t<view class=\"main\">\r\n\t\t\t\t<view class=\"ss\">\r\n\t\t\t\t\t<image :src=\"imgUrl+detailData.poster\"\r\n\t\t\t\t\t mode=\"aspectFill\" class=\"ssImge\"></image>\r\n\t\t\t\t\t <view class=\"income\">\r\n\t\t\t\t\t \t<text>累计佣金收益:￥1234</text>\r\n\t\t\t\t\t\t<view class=\"down\">\r\n\t\t\t\t\t\t\t下载名单\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t </view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <swiper class=\"swiper\" :autoplay=\"true\" :interval=\"2000\" :duration=\"500\" :circular=\"true\" :indicator-dots=\"true\"\r\n\t\t\t\t indicator-color=\"#fff\" indicator-active-color=\"#FDD30F\">\r\n\t\t\t\t\t<swiper-item v-for=\"item in 3\" :key=\"item\">\r\n\t\t\t\t\t\t<image src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593333346662&di=d4cceef20cedcd44a9c1105a107a1803&imgtype=0&src=http%3A%2F%2Ft8.baidu.com%2Fit%2Fu%3D1484500186%2C1503043093%26fm%3D79%26app%3D86%26f%3DJPEG%3Fw%3D1280%26h%3D853\"\r\n\t\t\t\t\t\t mode=\"aspectFill\" class=\"itemImg\"></image>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper> -->\r\n\t\t\t\t<view class=\"titleBox\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text>{{detailData.title}}</text>\r\n\t\t\t\t\t\t<view class=\"icons\" @click=\"$refs.sharePop.open\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/share.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<text>赚佣金</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tags\">\r\n\t\t\t\t\t\t<view class=\"tag\" v-for=\"(item,index) in tagList\" :key=\"index\">\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t\t\t￥<text class=\"t1\">{{detailData.personalPrice}}</text><text class=\"t2\">单人价</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"col ct\">\r\n\t\t\t\t\t\t\t￥<text class=\"t1\">{{detailData.groupPrice}}</text><text class=\"t2\">参团价</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/eye.png\" mode=\"aspectFit\" class=\"eye\"></image>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.fake}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/peo.png\" mode=\"aspectFit\" class=\"uesr\"></image>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.groupNumber}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"block\">\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"section\">\r\n\t\t\t\t\t<view class=\"local\">\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">活动地点</text>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.address}}</text>\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/pdw.png\" mode=\"aspectFit\" class=\"dw\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">主办方</text>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.organizer}}</text>\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/tel.png\" mode=\"aspectFit\" class=\"tel\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"time1\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">活动时间</text>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.startDate |changeTime}} 至 {{detailData.endDate|changeTime}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"t3\">共{{totalDays}}天</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"time1\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">报名时间</text>\r\n\t\t\t\t\t\t\t<text class=\"t2\">{{detailData.signStartDate |changeTime}} 至 {{detailData.signEndDate |changeTime}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"t3\">剩余{{laveDays}}天</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"time1\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">剩余名额</text>\r\n\t\t\t\t\t\t\t<view class=\"over\">10<text>/300</text></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"t3\">已报名290</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"block\">\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tabs\" :style=\"{top:top+'px'}\">\r\n\t\t\t\t\t<text :class=\"{'active':currentLetter=='Details'}\" @click=\"toView('Details')\">活动详情</text>\r\n\t\t\t\t\t<text :class=\"{'active':currentLetter=='Give'}\" @click=\"toView('Give')\">赠送福利</text>\r\n\t\t\t\t\t<text :class=\"{'active':currentLetter=='Evaluation'}\" @click=\"toView('Evaluation')\">往期评价</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"detailBox module\" id=\"Details\">\r\n\t\t\t\t\t<rich-text :nodes=\"detailData.activityInfo\"></rich-text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"main module\" id=\"Give\">\r\n\t\t\t\t\t<view class=\"detailTitle\">\r\n\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t赠送福利\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"giftList\">\r\n\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t<text>0-3岁小孩习惯培养课程大礼包</text>\r\n\t\t\t\t\t\t\t<text>价值300元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t\t\t<scroll-view class=\"scroll-view_H\" scroll-x=\"true\">\r\n\t\t\t\t\t\t\t\t<view class=\"item\" v-for=\"item in giveList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"imgUrl+item.poster\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<text>{{item.title}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"block\">\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flCaption\">\r\n\t\t\t\t\t\t<view class=\"title\">现场领取其他福利：</view>\r\n\t\t\t\t\t\t<view class=\"detail\">\r\n\t\t\t\t\t\t\t{{detailData.welfare}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"main module\" id=\"Evaluation\">\r\n\t\t\t\t\t<view class=\"detailTitle\">\r\n\t\t\t\t\t\t<text></text>\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t往期评价\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"commentBox\">\r\n\t\t\t\t\t\t<block v-for=\"it in oldEve\" :key=\"it.id\">\r\n\t\t\t\t\t\t\t<Activity :detail=\"it\"></Activity>\r\n\t\t\t\t\t\t\t<view class=\"plBox\">\r\n\t\t\t\t\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<text>评论</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\" @click=\"viewAll\">\r\n\t\t\t\t\t\t\t\t\t\t<text>查看全部</text>\r\n\t\t\t\t\t\t\t\t\t\t<image src=\"/static/icon/right.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"plItem\" v-for=\"item in it.commentList\" :key=\"item\">\r\n\t\t\t\t\t\t\t\t\t<text>JONCS</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t\t\t\t\t这样带娃简直是“作死”，婆婆妈妈们经常这样做，你家娃\r\n\t\t\t\t\t\t\t\t\t\t中招了吗？\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"ks3\" v-if=\"detailData.state==3&&!buyStatus\">\r\n\t\t\t\t\t<view class=\"item kfa\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/kf.png\" mode=\"aspectFit\" class=\"kf\"></image>\r\n\t\t\t\t\t\t<text>客服</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\" @click=\"doCollect\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/Collected.png\" mode=\"aspectFit\" class=\"sc\" v-if=\"detailData.isStore\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icon/heart.png\" mode=\"aspectFit\" class=\"sc\" v-else></image>\r\n\t\t\t\t\t\t<text>收藏</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"tabbar\" v-if=\"detailData.state==2&&!buyStatus\">\r\n\t\t\t\t\t<view class=\"item kfa\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/kf.png\" mode=\"aspectFit\" class=\"kf\"></image>\r\n\t\t\t\t\t\t<text>客服</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\" @click=\"doCollect\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/Collected.png\" mode=\"aspectFit\" class=\"sc\" v-if=\"detailData.isStore\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icon/heart.png\" mode=\"aspectFit\" class=\"sc\" v-else></image>\r\n\t\t\t\t\t\t<text>收藏</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btns\">\r\n\t\t\t\t\t\t<view class=\"buy\">\r\n\t\t\t\t\t\t\t单独购买\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"group\" @click=\"showGroupPop\">\r\n\t\t\t\t\t\t\t拼团购买\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tabbar\" v-if=\"detailData.state==2||detailData.state==4&&buyStatus\">\r\n\t\t\t\t\t<view class=\"item kfa\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/kf.png\" mode=\"aspectFit\" class=\"kf\"></image>\r\n\t\t\t\t\t\t<text>客服</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\" @click=\"doCollect\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/Collected.png\" mode=\"aspectFit\" class=\"sc\" v-if=\"detailData.isStore\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icon/heart.png\" mode=\"aspectFit\" class=\"sc\" v-else></image>\r\n\t\t\t\t\t\t<text>收藏</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btns\" v-if=\"detailData.state==4\">\r\n\t\t\t\t\t\t<view class=\"buy\" @click=\"downFile\">\r\n\t\t\t\t\t\t\t下载附件\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"group\" @click=\"goCommet\">\r\n\t\t\t\t\t\t\t我要评论\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bmBtn\" v-if=\"detailData.state==2\">\r\n\t\t\t\t\t\t<view class=\"btn1\">\r\n\t\t\t\t\t\t\t申请退款\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"btn2\" @click=\"downFile\">\r\n\t\t\t\t\t\t\t下载附件\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"btn3\" @click=\"$refs.showMyGroup.open()\">\r\n\t\t\t\t\t\t\t我的团(3/4)\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tabbar\" v-if=\"detailData.state==1&&!buyStatus\">\r\n\t\t\t\t\t<view class=\"item kfa\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/kf.png\" mode=\"aspectFit\" class=\"kf\"></image>\r\n\t\t\t\t\t\t<text>客服</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\" @click=\"doCollect\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/Collected.png\" mode=\"aspectFit\" class=\"sc\" v-if=\"detailData.isStore\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icon/heart.png\" mode=\"aspectFit\" class=\"sc\" v-else></image>\r\n\t\t\t\t\t\t<text>收藏</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wksBtn\">\r\n\t\t\t\t\t\t报名未开始\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"ad\" v-if=\"showAd\">\r\n\t\t\t\t\t<image src=\"/static/icon/close.png\" mode=\"aspectFit\" class=\"closeIcon\" @click=\"showAd=false\"></image>\r\n\t\t\t\t\t<view class=\"line\">\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"imgBox\">\r\n\t\t\t\t\t\t<image src=\"/static/img/hb.png\" mode=\"aspectFit\" class=\"bgImg\"></image>\r\n\t\t\t\t\t\t<view class=\"conten\">\r\n\t\t\t\t\t\t\t<text class=\"t1\">分享返</text>\r\n\t\t\t\t\t\t\t<view class=\"t2\">￥<text>6</text></view>\r\n\t\t\t\t\t\t\t<text class=\"t3\">下单即返佣金</text>\r\n\t\t\t\t\t\t\t<text class=\"t4\">立即分享</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view class=\"popGroup\">\r\n\t\t\t\t<view class=\"btn1\" @click=\"OpenGroup\">\r\n\t\t\t\t\t我要开团\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn2\" @click=\"goInfo\">\r\n\t\t\t\t\t我要参团(3)\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<!-- 开团提示 -->\r\n\t\t<uni-popup ref=\"popup1\" type=\"center\">\r\n\t\t\t<view class=\"tip\">\r\n\t\t\t\t<image src=\"../../static/img/notEnough.png\" mode=\"aspectFill\" class=\"tipImg\"></image>\r\n\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t<text>只有营长及其以上等级才能够开团，去升级成为营长</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operating\">\r\n\t\t\t\t\t<view class=\"item\" @click=\"$refs.popup1.close\">\r\n\t\t\t\t\t\t取消\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item up\">\r\n\t\t\t\t\t\t去升级\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"sharePop\" type=\"bottom\">\r\n\t\t\t<view class=\"shareBox\">\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<image src=\"../../static/img/wx.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>发送给朋友</text>\r\n\t\t\t\t\t<button open-type=\"share\" class=\"shareBtn\"></button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\" @click=\"getPoster\">\r\n\t\t\t\t\t<image src=\"../../static/img/poster.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>生成海报</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"showMyGroup\" type=\"bottom\">\r\n\t\t\t<view class=\"grouplist\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t拼团列表\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"item in 3\" :key=\"item\">\r\n\t\t\t\t\t\t<image src=\"../../static/1.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<text>仙女</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"wz\">\r\n\t\t\t\t\t\t<image src=\"../../static/icon/wz.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<text>空位</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn\">\r\n\t\t\t\t\t\t邀请\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<view class=\"canvasBox\" style=\"width:0;height:0;overflow: hidden;opacity:0;position:fixed;left:-750px;top:0;\">\r\n\t\t\t<canvas canvas-id='myCanvas' :style=\"{width:width+'px',height: height+'px'}\"></canvas>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"poster\" type=\"center\" :maskClick=\"false\">\r\n\t\t\t<view class=\"posterBox\">\r\n\t\t\t\t<image :src=\"tmpImg\" mode=\"aspectFill\" class=\"posterImg\"></image>\r\n\t\t\t\t<text class=\"posterTip\" @click=\"saveImageToPhotosAlbum\">保存到手机</text>\r\n\t\t\t\t<image src=\"../../static/icon/closeIcon.png\" mode=\"aspectFill\" class=\"closeIcon\" @click=\"closePoser\"></image>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue';\r\n\timport Activity from '@/components/Activity.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tActivity\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timgUrl:'',\r\n\t\t\t\ttmpImg: '',\r\n\t\t\t\twidth: 570,\r\n\t\t\t\theight: 820,\r\n\t\t\t\tpixelRatio: 2,\r\n\t\t\t\tcodePath: '/static/tmp/code.jpg', //小程序码\r\n\t\t\t\tposerImg: 'https://t8.baidu.com/it/u=3887179165,3572970878&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1596352536&t=2736120db00abcf307212a6d5ddfce18',\r\n\t\t\t\ttotalDays:'',//总天数\r\n\t\t\t\tlaveDays:'',//剩余天数\r\n\t\t\t\tdetailData:{},\r\n\t\t\t\ttop: 22,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tshowAd: true,\r\n\t\t\t\ttoIndex: '',\r\n\t\t\t\tletterDetails: [],\r\n\t\t\t\tcurrentLetter: \"Details\",\r\n\t\t\t\ttype: 0, //我的报名  (1未开始2报名中 3进行中 4已结束)\r\n\t\t\t\tshowFixed:true,\r\n\t\t\t\tstatus:0,//1报名中 2未开始 3进行中 4已结束\r\n\t\t\t\t//classList:[],\r\n\t\t\t\ttagList:[],\r\n\t\t\t\tgiveList:[],//赠送福利\r\n\t\t\t\toldEve:[],\r\n\t\t\t\tbuyStatus:false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tfilters:{\r\n\t\t\tchangeTime(val){\r\n\t\t\t\tif(val){\r\n\t\t\t\t\treturn val.substr(0,10)\r\n\t\t\t\t}\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(params) {\r\n\t\t\tthis.imgUrl=this.$baseUrl\r\n\t\t\tthis.top = uni.getMenuButtonBoundingClientRect().top\r\n\t\t\tthis.detailData = getApp().globalData.activeData\r\n\t\t\tthis.buyStatus=params.buyStatus?true:false\r\n\t\t\tthis.getLaveTime()\r\n\t\t\tthis.getCates()\r\n\t\t\t//this.getGiveCourse()//赠送的课程\r\n\t\t\tthis.getOldEve()//往期评价\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\t\t\tif (res.from === 'button') { // 来自页面内分享按钮\r\n\t\t\t\tconsole.log(res.target)\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '自定义分享标题',\r\n\t\t\t\tpath: '/pages/index/index'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdownFile(){\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t    url: this.imgUrl+this.detailData.filepath,\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t        if (res.statusCode === 200) {\r\n\t\t\t\t          uni.showToast({\r\n\t\t\t\t          \ttitle:\"下载成功\"\r\n\t\t\t\t          })\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdoCollect(){\r\n\t\t\t\tlet status=this.detailData.isStore==1?0:1\r\n\t\t\t\tthis.collected(status)\r\n\t\t\t},\r\n\t\t\t//收藏\r\n\t\t\tcollected(status){\r\n\t\t\t\tthis.$api.post('/api/user/store',{\r\n\t\t\t\t\ttype:1,//1活动 2课程\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\ttableId:this.detailData.id,\r\n\t\t\t\t\tuserId:uni.getStorageSync('userInfo').id\r\n\t\t\t\t}).then((res)=>{\r\n\t\t\t\t\tthis.detailData.isStore=status\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetOldEve(){\r\n\t\t\t\tthis.$api.get('/api/act/getCommentActivityId',{\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tactivityId:this.detailData.id \r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res)=>{\r\n\t\t\t\t\tthis.oldEve=res.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// getGiveCourse(){\r\n\t\t\t// \tthis.$api.get('/api/act/getLessonByActivityId',{\r\n\t\t\t// \t\tparams:{\r\n\t\t\t// \t\t\tactivityId:this.detailData.id\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}).then((res)=>{\r\n\t\t\t// \t\tthis.giveList=res.data\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n\t\t\t//获取分类列表\r\n\t\t\tgetCates() {\r\n\t\t\t\tthis.$api.get('/api/static/dictList',{\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\ttype:1 //1.活动分类 2.课程分类 3.绘本分类 4 帖子分类 5消费得积分 6消费得经验\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t//this.swiperList=res.data\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t//this.classList=res.data\r\n\t\t\t\t\tlet pid=''\r\n\t\t\t\t\tlet tagList=[]\r\n\t\t\t\t\tres.data.forEach((item)=>{\r\n\t\t\t\t\t\tif(item.id==this.detailData.typeId){\r\n\t\t\t\t\t\t\ttagList.push(item.name)\r\n\t\t\t\t\t\t\tpid=item.pid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(tagList)\r\n\t\t\t\t\tres.data.forEach((item)=>{\r\n\t\t\t\t\t\tif(item.id==pid){\r\n\t\t\t\t\t\t\ttagList.push(item.name)\r\n\t\t\t\t\t\t\tthis.tagList=tagList\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetLaveTime(){\r\n\t\t\t\tlet t1 = this.detailData.startDate.replace(new RegExp(\"-\",\"gm\"),\"/\").substr(0,10);\r\n\t\t\t\tlet t2 = this.detailData.endDate.replace(new RegExp(\"-\",\"gm\"),\"/\").substr(0,10);\r\n\t\t\t\tt1 = new Date(t1).getTime()\r\n\t\t\t\tt2 = new Date(t2).getTime()\r\n\t\t\t\tthis.totalDays=this.geta(t1,t2)\r\n\t\t\t\tlet nowData=new Date().getTime()\r\n\t\t\t\tlet endData=this.detailData.signEndDate.replace(new RegExp(\"-\",\"gm\"),\"/\").substr(0,10);\r\n\t\t\t\tendData=new Date(endData).getTime()\r\n\t\t\t\tthis.laveDays=this.geta(nowData,endData)\r\n\t\t\t},\r\n\t\t\t//获取时间差\r\n\t\t\tgeta(date1,date2){ //date2结束时间\r\n\t\t\t\tvar date3=date2-date1  //时间差的毫秒数\r\n\t\t\t\t//计算出相差天数\r\n\t\t\t\tvar days=Math.floor(date3/(24*3600*1000))\r\n\t\t\t\treturn days+1\r\n\t\t\t},\r\n\t\t\tgoInfo(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/togetherInfo/togetherInfo?actId=\"+this.detailData.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoCommet() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pagesA/courseEvaluation/courseEvaluation\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoView(val) {\r\n\t\t\t\tthis.toIndex = val\r\n\t\t\t\tthis.currentLetter = val\r\n\t\t\t},\r\n\t\t\tscrollHandle(e) {\r\n\t\t\t\tlet scrollTop = e.detail.scrollTop\r\n\t\t\t\tthis.scrollTop = scrollTop\r\n\t\t\t\t//console.log(scrollTop)\r\n\t\t\t\tlet view = uni.createSelectorQuery().in(this).selectAll(\".module\");\r\n\t\t\t\tview.boundingClientRect(d => {\r\n\t\t\t\t\tlet top = d[0].top\r\n\t\t\t\t\td.forEach(item => {\r\n\t\t\t\t\t\titem.top = item.top - top;\r\n\t\t\t\t\t\titem.bottom = item.bottom - top;\r\n\t\t\t\t\t\tthis.letterDetails.push({\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttop: item.top,\r\n\t\t\t\t\t\t\tbottom: item.bottom\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.letterDetails.some(item => {\r\n\t\t\t\t\t\tif ((scrollTop-180) >= item.top && (scrollTop-180) <= (item.bottom-20)) {\r\n\t\t\t\t\t\t\tthis.currentLetter = item.id;\r\n\t\t\t\t\t\t\t//console.log(this.currentLetter)\r\n\t\t\t\t\t\t\t//当前固定用的是粘性定位，如果不用粘性定位，在这里设置\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//console.log(this.currentLetter)\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowGroupPop() {\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tOpenGroup() {\r\n\t\t\t\t//this.kTeam()\r\n\t\t\t\tthis.$api.get('/api/user/getUserInfo').then((res)=>{\r\n\t\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t\t\tif(true){\r\n\t\t\t\t\t\t//开团 填写信息 type 1开团 2单独购买 3参团\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:\"/pages/joinDetail/joinDetail?type=1\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$refs.popup1.open()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tviewAll() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/comment/comment\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//生成 海报\r\n\t\t\tclosePoser() {\r\n\t\t\t\tthis.$refs.poster.close()\r\n\t\t\t},\r\n\t\t\tgetPoster() {\r\n\t\t\t\tthis.$refs.sharePop.close()\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '海报生成中...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet context = wx.createCanvasContext('myCanvas');\r\n\t\t\t\tcontext.width = this.width;\r\n\t\t\t\tcontext.height = this.height;\r\n\t\t\t\tlet x = context.width / 2;\r\n\t\t\t\twx.getImageInfo({\r\n\t\t\t\t\tsrc: this.poserImg,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tcontext.fillStyle = \"#FFFFFF\";\r\n\t\t\t\t\t\tcontext.fillRect(0, 0, this.width, this.height);\r\n\t\t\t\t\t\t// context.drawImage(this.bgPath, 0, 0, this.width, this.height);\r\n\t\t\t\t\t\tcontext.drawImage(res.path, 0, 0, this.width, 530);\r\n\t\t\t\t\t\tcontext.setFontSize(28);\r\n\t\t\t\t\t\tcontext.setFillStyle('#000000');\r\n\t\t\t\t\t\tcontext.setTextAlign('center');\r\n\t\t\t\t\t\tlet text = '杭州小记者内蒙古宁夏夏令营梦幻迪士尼'\r\n\t\t\t\t\t\tif (text.length > 20) {\r\n\t\t\t\t\t\t\ttext = text.substr(0, 20) + '...'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontext.fillText(text, this.width / 2, 600);\r\n\t\t\t\t\t\tlet tip = '长按识别，立即参加'\r\n\t\t\t\t\t\tcontext.setFontSize(28);\r\n\t\t\t\t\t\tcontext.fillText(tip, 320, 760);\r\n\t\t\t\t\t\tcontext.save();\r\n\t\t\t\t\t\tcontext.restore();\r\n\t\t\t\t\t\tlet yq = '邀您参加'\r\n\t\t\t\t\t\tcontext.setFillStyle('#666666');\r\n\t\t\t\t\t\tcontext.font = 'normal bold 24px sans-serif';\r\n\t\t\t\t\t\tcontext.fillText(yq, 340, 720);\r\n\t\t\t\t\t\tcontext.save();\r\n\t\t\t\t\t\tcontext.restore();\r\n\t\t\t\t\t\tlet name = '张雨溪'\r\n\t\t\t\t\t\tcontext.setFillStyle('#000000');\r\n\t\t\t\t\t\tcontext.font = 'normal bold 26px sans-serif';\r\n\t\t\t\t\t\tcontext.fillText(name, 340, 690);\r\n\t\t\t\t\t\tcontext.save();\r\n\t\t\t\t\t\tcontext.restore();\r\n\t\t\t\t\t\twx.getImageInfo({\r\n\t\t\t\t\t\t\tsrc: that.codePath,\r\n\t\t\t\t\t\t\tsuccess: (res1) => {\r\n\t\t\t\t\t\t\t\tcontext.drawImage(that.codePath, 33, 650, 132, 132);\r\n\t\t\t\t\t\t\t\twx.getImageInfo({\r\n\t\t\t\t\t\t\t\t\tsrc: this.poserImg,\r\n\t\t\t\t\t\t\t\t\tsuccess: (avatar) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(avatar)\r\n\t\t\t\t\t\t\t\t\t\tvar avatarurl_width = 62; //绘制的头像宽度\r\n\t\t\t\t\t\t\t\t\t\tvar avatarurl_heigth = 62; //绘制的头像高度\r\n\t\t\t\t\t\t\t\t\t\tvar avatarurl_x = 200; //绘制的头像在画布上的位置\r\n\t\t\t\t\t\t\t\t\t\tvar avatarurl_y = 660; //绘制的头像在画布上的位置\r\n\t\t\t\t\t\t\t\t\t\tcontext.beginPath(); //开始绘制\r\n\t\t\t\t\t\t\t\t\t\tcontext.arc(avatarurl_width / 2 + avatarurl_x, avatarurl_heigth / 2 + avatarurl_y, avatarurl_width / 2, 0, Math.PI * 2, false);\r\n\t\t\t\t\t\t\t\t\t\tcontext.clip();\r\n\t\t\t\t\t\t\t\t\t\tcontext.drawImage(avatar.path, 200, 660, 62, 62);\r\n\t\t\t\t\t\t\t\t\t\tcontext.save();\r\n\t\t\t\t\t\t\t\t\t\tcontext.draw();\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\twx.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcanvasId: 'myCanvas',\r\n\t\t\t\t\t\t\t\t\t\t\t\tx: 0, //指定的画布区域的左上角横坐标\t\r\n\t\t\t\t\t\t\t\t\t\t\t\ty: 0, //指定的画布区域的左上角纵坐标\t\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: this.width, //指定的画布区域的宽度\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: this.height, //指定的画布区域的高度\r\n\t\t\t\t\t\t\t\t\t\t\t\tdestWidth: this.width, //输出的图片的宽度 \r\n\t\t\t\t\t\t\t\t\t\t\t\tdestHeight: this.height, //输出的图片的高度\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar tempFilePath = res.tempFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tmpImg = tempFilePath\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(tempFilePath)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$refs.poster.open()\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveImageToPhotosAlbum() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar value = that.tmpImg; // 你的图片路径\r\n\t\t\t\tif (value != undefined && value != \"\") {\r\n\t\t\t\t\twx.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\tfilePath: value,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t// that.hideModal();\r\n\t\t\t\t\t\t\t// that.hideMoments();\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"已保存到相册\",\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tconsole.error(res)\r\n\t\t\t\t\t\t\t//首次保存会询问你是否授权，选是就好了\r\n\t\t\t\t\t\t\t// if (res.errMsg == \"saveImageToPhotosAlbum:fail auth deny\") {\r\n\t\t\t\t\t\t\tconsole.error(\"打开设置窗口\");\r\n\t\t\t\t\t\t\twx.openSetting({\r\n\t\t\t\t\t\t\t\tsuccess(settingdata) {\r\n\t\t\t\t\t\t\t\t\tconsole.error(settingdata)\r\n\t\t\t\t\t\t\t\t\tif (settingdata.authSetting[\"scope.writePhotosAlbum\"]) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.error(\"获取权限成功，再次点击图片保存到相册\")\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconsole.error(\"获取权限失败\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import './index.scss'\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./activityDetails.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./activityDetails.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596003598242\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}