(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/successful/successful"],{"0203":function(e,t,n){"use strict";n.r(t);var o=n("2036"),s=n("3ad8");for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);n("df11");var a,r=n("f0c5"),c=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=c.exports},"04de":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(function(){return resolve(n("5592"))}.bind(null,n)).catch(n.oe)},s={components:{uniPopup:o},data:function(){return{imgUrl:"",tmpImg:"",width:570,height:820,pixelRatio:2,codePath:"/static/tmp/code.jpg",poserImg:"https://t8.baidu.com/it/u=3887179165,3572970878&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1596352536&t=2736120db00abcf307212a6d5ddfce18"}},onLoad:function(){},onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),{title:"自定义分享标题",path:"/pages/index/index"}},methods:{showShare:function(){this.$refs.sharePop.open()},closePoser:function(){this.$refs.poster.close()},getPoster:function(){var t=this;this.$refs.sharePop.close(),e.showLoading({title:"海报生成中...",mask:!0});var n=this,o=wx.createCanvasContext("myCanvas");o.width=this.width,o.height=this.height;o.width;wx.getImageInfo({src:this.poserImg,success:function(s){o.fillStyle="#FFFFFF",o.fillRect(0,0,t.width,t.height),o.drawImage(s.path,0,0,t.width,530),o.setFontSize(28),o.setFillStyle("#000000"),o.setTextAlign("center");var i="杭州小记者内蒙古宁夏夏令营梦幻迪士尼";i.length>20&&(i=i.substr(0,20)+"..."),o.fillText(i,t.width/2,600);var a="长按识别，立即参加";o.setFontSize(28),o.fillText(a,320,760),o.save(),o.restore();var r="邀您参加";o.setFillStyle("#666666"),o.font="normal bold 24px sans-serif",o.fillText(r,340,720),o.save(),o.restore();var c="张雨溪";o.setFillStyle("#000000"),o.font="normal bold 26px sans-serif",o.fillText(c,340,690),o.save(),o.restore(),wx.getImageInfo({src:n.codePath,success:function(s){o.drawImage(n.codePath,33,650,132,132),wx.getImageInfo({src:t.poserImg,success:function(n){console.log(n);var s=62,i=62,a=200,r=660;o.beginPath(),o.arc(s/2+a,i/2+r,s/2,0,2*Math.PI,!1),o.clip(),o.drawImage(n.path,200,660,62,62),o.save(),o.draw(),setTimeout((function(){wx.canvasToTempFilePath({canvasId:"myCanvas",x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,success:function(n){var o=n.tempFilePath;t.tmpImg=o,console.log(o),e.hideLoading(),t.$refs.poster.open()},fail:function(t){console.log(t),e.hideLoading()}})}),300)}})}})}})},saveImageToPhotosAlbum:function(){var e=this,t=e.tmpImg;void 0!=t&&""!=t&&wx.saveImageToPhotosAlbum({filePath:t,success:function(e){wx.showToast({title:"已保存到相册",icon:"none",duration:1500,mask:!0})},fail:function(e){console.error(e),console.error("打开设置窗口"),wx.openSetting({success:function(e){console.error(e),e.authSetting["scope.writePhotosAlbum"]?console.error("获取权限成功，再次点击图片保存到相册"):console.error("获取权限失败")}})}})}}};t.default=s}).call(this,n("543d")["default"])},2036:function(e,t,n){"use strict";var o={uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(n.bind(null,"5592"))}},s=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},"3ad8":function(e,t,n){"use strict";n.r(t);var o=n("04de"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=s.a},"673d":function(e,t,n){},a523:function(e,t,n){"use strict";(function(e){n("1f75");o(n("66fd"));var t=o(n("0203"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},df11:function(e,t,n){"use strict";var o=n("673d"),s=n.n(o);s.a}},[["a523","common/runtime","common/vendor"]]]);